{"version":3,"sources":["components/Filter.js","components/Person.js","components/Input.js","components/Form.js","components/Notification.js","service/persons.js","App.js","index.js"],"names":["Filter","filterString","handleFilter","value","onChange","Person","person","drop","name","number","onClick","Input","text","Form","onSubmit","nameValue","numberValue","changeHandlers","type","Notification","message","error","notificationStyle","marginBottom","maxWidth","background","border","borderRadius","borderWidth","paddingLeft","fontSize","style","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setFilterString","showAll","setShowAll","notificationMessage","setNotificationMessage","setError","useEffect","personService","savedPersons","personsToShow","filter","toLowerCase","includes","showNotification","setTimeout","event","target","preventDefault","existingPerson","find","updatedPerson","returnedPerson","map","p","catch","updatePerson","concat","window","alert","confirm","dropPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iKAceA,EAZA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,aAC5B,OACI,iDAEQ,uBACIC,MAAOF,EACPG,SAAUF,QCKfG,EAXA,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,KACtB,OACI,mCACI,8BACKD,EAAOE,KADZ,IACmBF,EAAOG,OACtB,wBAAQC,QAASH,EAAjB,0BCQDI,EAZD,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,KAAMT,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC1B,OACI,gCACKQ,EADL,IAEI,uBACIT,MAAOA,EACPC,SAAUA,QCiBXS,EAtBF,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,SAAUC,EAA6C,EAA7CA,UAAWC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,eAC9C,OACI,8BACI,uBAAMH,SAAUA,EAAhB,UACI,cAAC,EAAD,CACEF,KAAK,OACLT,MAAOY,EACPX,SAAUa,EAAeT,OAE3B,cAAC,EAAD,CACEI,KAAK,SACLT,MAAOa,EACPZ,SAAUa,EAAeR,SAE3B,8BACI,wBAAQS,KAAK,SAAb,yBCKLC,EAtBM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MACvBC,EAAoB,CACtBC,aAAc,GACdC,SAAU,MACVC,WAAYJ,EAAQ,UAAY,UAChCK,OAAQL,EAAQ,gBAAkB,gBAClCM,aAAc,EACdC,YAAa,EACbC,YAAa,QACbC,SAAU,IAGd,OAAgB,OAAZV,EACO,KAGP,qBAAKW,MAAOT,EAAZ,SACG,4BAAIF,O,gBCjBTY,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAACC,GAEZ,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAACG,EAAIF,GAEhB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALF,SAACG,GAEV,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,kBAAM,MC2HfQ,EAxIH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACPC,EADO,KACEC,EADF,OAEgBF,mBAAS,IAFzB,mBAEPG,EAFO,KAEEC,EAFF,OAGoBJ,mBAAS,IAH7B,mBAGPK,EAHO,KAGIC,EAHJ,OAI0BN,mBAAS,IAJnC,mBAIP3C,EAJO,KAIOkD,EAJP,OAKgBP,oBAAS,GALzB,mBAKPQ,EALO,KAKEC,EALF,OAMwCT,mBAAS,MANjD,mBAMPU,EANO,KAMcC,EANd,OAOYX,oBAAS,GAPrB,mBAOPvB,EAPO,KAOAmC,EAPA,KASdC,qBAAU,WACNC,IAEKvB,MAAK,SAAAwB,GACFb,EAAWa,QAEpB,IAEH,IA6DMC,EAAgBR,EAChBP,EACAA,EAAQgB,QAAO,SAAAvD,GAAM,OAAIA,EAAOE,KAAKsD,cAAcC,SAAS9D,EAAa6D,kBAgBzEE,EAAmB,SAAC5C,GACtBmC,EAAuBnC,GACvB6C,YAAW,WACPV,EAAuB,MACvBC,GAAS,KACV,MAGP,OACI,gCACI,2CACA,cAAC,EAAD,CAAcpC,QAASkC,EAAqBjC,MAAOA,IACnD,cAAC,EAAD,CACIpB,aAAcA,EACdC,aArBS,SAACgE,GAClBf,EAAgBe,EAAMC,OAAOhE,OACN,KAAvB+D,EAAMC,OAAOhE,MACPkD,GAAW,GACXA,GAAW,MAmBb,gDACA,cAAC,EAAD,CACIvC,SAhFS,SAACoD,GAGlB,GAFAA,EAAME,iBAEDrB,GAAYE,EAAjB,CAMA,IAAMoB,EAAiBxB,EAAQyB,MAAK,SAAAhE,GAAM,OAAIA,EAAOE,OAASuC,KAC9D,GAAIsB,EAAJ,CACI,IAAME,EAAgB,CAClB/D,KAAM6D,EAAe7D,KACrBC,OAAQwC,IA9BC,SAACT,EAAI+B,GACtBb,EACYlB,EAAI+B,GACXpC,MAAK,SAAAqC,GACF1B,EAAWD,EAAQ4B,KAAI,SAAAnE,GAAM,OACzBA,EAAOkC,KAAOA,EAAKlC,EAASkE,MAChC1B,EAAWD,EAAQgB,QAAO,SAAAa,GAAC,OAAIA,EAAElC,KAAOA,MACxCwB,EAAiB,gCACjBhB,EAAW,IACXE,EAAa,OAEhByB,OAAM,SAAAtD,GACHmC,GAAS,GACTQ,EAAiB3C,EAAMe,SAASC,KAAKhB,UAmBzCuD,CAAaP,EAAe7B,GAAI+B,OALpC,CAYAb,EAJwB,CACpBlD,KAAMuC,EACNtC,OAAQwC,IAIPd,MAAK,SAAAqC,GACF1B,EAAWD,EAAQgC,OAAOL,OAE7BG,OAAM,SAAAtD,GACHmC,GAAS,GACTQ,EAAiB3C,EAAMe,SAASC,KAAKhB,UAE7C2C,EAAiB,8BACjBhB,EAAW,IACXE,EAAa,UA7BT4B,OAAOC,MAAM,mCA6EThE,UAAWgC,EACX/B,YAAaiC,EACbhC,eAAgB,CACZT,KApCS,SAAC0D,GACtBlB,EAAWkB,EAAMC,OAAOhE,QAoCZM,OAlCW,SAACyD,GACxBhB,EAAagB,EAAMC,OAAOhE,WAoCtB,yCACA,8BACKyD,EAAca,KAAI,SAAAnE,GAAM,OACrB,cAAC,EAAD,CAEIA,OAAQA,EACRC,KAAM,kBA1DP,SAACD,GACZwE,OAAOE,QAAP,iBAAyB1E,EAAOE,KAAhC,QACAkD,EACUpD,EAAOkC,IACjBM,EAAWD,EAAQgB,QAAO,SAAAa,GAAC,OAAIA,EAAElC,KAAOlC,EAAOkC,QAsDvByC,CAAW3E,KAFlBA,EAAOkC,aClIpC0C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.23cde0a9.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filterString, handleFilter }) => {\n    return (\n        <div>\n            filter by name \n                <input\n                    value={filterString}\n                    onChange={handleFilter}\n                />\n        </div>\n    );\n}\n\nexport default Filter;","import React from 'react';\n\nconst Person = ({ person, drop }) => {\n    return (\n        <>\n            <p>\n                {person.name} {person.number}\n                <button onClick={drop}>delete</button>\n            </p>\n        </>\n    );\n}\n\nexport default Person;","import React from 'react';\n\n\nconst Input = ({ text, value, onChange }) => {\n    return (\n        <div>\n            {text}:\n            <input\n                value={value}\n                onChange={onChange}\n            />\n        </div>\n    );\n}\n\nexport default Input;","import React from 'react';\nimport Input from './Input';\n\n\nconst Form = ({ onSubmit, nameValue, numberValue, changeHandlers }) => {\n    return (\n        <div>\n            <form onSubmit={onSubmit}>\n                <Input\n                  text='name'\n                  value={nameValue}\n                  onChange={changeHandlers.name}\n                />\n                <Input\n                  text='number'\n                  value={numberValue}\n                  onChange={changeHandlers.number}\n                />\n                <div>\n                    <button type='submit'>add</button>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default Form;","import React from 'react';\n\nconst Notification = ({ message, error }) => {\n    const notificationStyle = {\n        marginBottom: 25,\n        maxWidth: '60%',\n        background: error ? '#FF8383' : '#AEE0A1',\n        border: error ? 'solid #FFAFAF' : 'solid #D1EEC9',\n        borderRadius: 5,\n        borderWidth: 2,\n        paddingLeft: '0.5em',\n        fontSize: 17\n    }\n    \n    if (message === null) {\n        return null;\n    }\n    return (\n        <div style={notificationStyle}>\n           <p>{message}</p>\n        </div>\n    )\n}\n\nexport default Notification;","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then(response => response.data);\n};\n\nconst drop = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(() => true);\n};\n\nexport default { getAll, create, update, drop };","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Person from './components/Person';\nimport Form from './components/Form';\nimport Notification from './components/Notification';\nimport personService from './service/persons';\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filterString, setFilterString] = useState('');\n    const [showAll, setShowAll] = useState(true);\n    const [notificationMessage, setNotificationMessage] = useState(null);\n    const [error, setError] = useState(false);\n\n    useEffect(() => {\n        personService\n            .getAll()\n            .then(savedPersons => {\n                setPersons(savedPersons);\n            });\n    }, []);\n\n    const updatePerson = (id, updatedPerson) => {\n        personService\n            .update(id, updatedPerson)\n            .then(returnedPerson => {\n                setPersons(persons.map(person =>\n                    person.id !== id ? person : returnedPerson));\n                setPersons(persons.filter(p => p.id !== id));\n                showNotification('Successfully updated contact');\n                setNewName('');\n                setNewNumber('');\n            })\n            .catch(error => {\n                setError(true);\n                showNotification(error.response.data.error);\n            });\n    };\n\n    const addNewPerson = (event) => {\n        event.preventDefault();\n\n        if (!newName || !newNumber) {\n            window.alert('Please fill in name and number');\n            return;\n        }\n\n        // Handle adding duplicates\n        const existingPerson = persons.find(person => person.name === newName);\n        if (existingPerson) {\n            const updatedPerson = {\n                name: existingPerson.name,\n                number: newNumber\n            };\n            updatePerson(existingPerson.id, updatedPerson);\n            return;\n        }\n        const newPersonObject = {\n            name: newName,\n            number: newNumber\n        };\n        personService\n            .create(newPersonObject)\n            .then(returnedPerson => {\n                setPersons(persons.concat(returnedPerson));\n            })\n            .catch(error => {\n                setError(true);\n                showNotification(error.response.data.error);\n            });\n        showNotification('Successfully added contact');\n        setNewName('');\n        setNewNumber('');\n    };\n\n    const dropPerson = (person) => {\n        if (window.confirm(`Delete ${person.name}?`)) {\n            personService\n                .drop(person.id);\n            setPersons(persons.filter(p => p.id !== person.id));\n        }\n    };\n\n    const personsToShow = showAll\n        ? persons\n        : persons.filter(person => person.name.toLowerCase().includes(filterString.toLowerCase()));\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value);\n    };\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value);\n    };\n\n    const handleFilter = (event) => {\n        setFilterString(event.target.value);\n        event.target.value === ''\n            ? setShowAll(true)\n            : setShowAll(false);\n    };\n\n    const showNotification = (message) => {\n        setNotificationMessage(message);\n        setTimeout(() => {\n            setNotificationMessage(null);\n            setError(false);\n        }, 5000);\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={notificationMessage} error={error} />\n            <Filter\n                filterString={filterString}\n                handleFilter={handleFilter}\n            />\n            <h2>Add new person</h2>\n            <Form\n                onSubmit={addNewPerson}\n                nameValue={newName}\n                numberValue={newNumber}\n                changeHandlers={{\n                    name: handleNameChange,\n                    number: handleNumberChange\n                }}\n            />\n            <h2>Numbers</h2>\n            <div>\n                {personsToShow.map(person =>\n                    <Person\n                        key={person.id}\n                        person={person}\n                        drop={() => dropPerson(person)}\n                    />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}